<p-toast></p-toast>

<div class="card">
  <p-table #dt [rows]="10" [value]="voters" styleClass="p-datatable-gridlines" responsiveLayout="scroll">
      <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between caption_margin">
          <h5 class="center">Voters</h5>
          <button pButton pRipple icon="pi pi-plus" class="p-button-success p-button-raised p-button-rounded topright" (click)="openNew()"></button>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name">Name</th>
          <th pSortableColumn="has_voted">Has voted</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-voter>
        <tr>
          <td>{{voter.name}}</td>
          <td>{{voter.has_voted}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="summary">
          <div class="flex align-items-center justify-content-between">
          </div>
      </ng-template>
  </p-table>
</div>

<p-dialog [(visible)]="voterDialog" [style]="{width: '450px'}" header="Voter Details" [modal]="true" styleClass="p-fluid">
  <ng-template pTemplate="content">
      <div class="p-field">
          <label for="name">Name</label>
          <input type="text" pInputText id="name" [(ngModel)]="voter.name" required autofocus />
          <small class="p-invalid" *ngIf="submitted && !voter.name">Name is required.</small>
      </div>

  </ng-template>

  <ng-template pTemplate="footer">
      <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
      <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveVoter()"></button>
  </ng-template>
</p-dialog>

<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
